import{c as b,r as o,j as e,C as f,a as u}from"./index-gdYxEPUR.js";import{u as p}from"./useQuery-CndOUzeK.js";import{B as g,C as j}from"./badge-CdOHI6-X.js";import{m,B as h}from"./proxy-DHzY5egZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=b("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);function N({course:s}){const[i,t]=o.useState(!1);o.useEffect(()=>{const a=JSON.parse(localStorage.getItem("bookmarkedCourses")||"[]");t(a.some(n=>n.title===s.title))},[s.title]);const l=()=>{const a=JSON.parse(localStorage.getItem("bookmarkedCourses")||"[]");if(i){const n=a.filter(c=>c.title!==s.title);localStorage.setItem("bookmarkedCourses",JSON.stringify(n))}else a.push(s),localStorage.setItem("bookmarkedCourses",JSON.stringify(a));t(!i)},d={Beginner:"success",Intermediate:"warning",Advanced:"danger"}[s.difficulty]||"default";return e.jsx(m.div,{whileHover:{scale:1.03},transition:{duration:.2},children:e.jsx(f,{className:"overflow-hidden",children:e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.title}),e.jsx(g,{variant:d,children:s.difficulty})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-1"}),s.durationText]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.topics.map((a,n)=>e.jsxs(g,{variant:a.name.toLowerCase(),children:[a.emoji," ",a.name]},n))}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(h,{onClick:()=>window.open(s.url,"_blank"),variant:"outline",size:"sm",className:"rounded-lg border-primary/30 text-primary hover:bg-primary/10",children:"View Course"}),e.jsx(h,{onClick:l,variant:"ghost",size:"icon",className:`${i?"text-primary":"text-gray-500 dark:text-gray-400"} hover:text-primary dark:hover:text-primary`,children:e.jsx(k,{className:"h-5 w-5",fill:i?"currentColor":"none"})})]})]})})})}function v({topicFilter:s,setTopicFilter:i,timeFilter:t,setTimeFilter:l}){const r=[{id:"all",label:"All Topics"},{id:"frontend",label:"Frontend"},{id:"backend",label:"Backend"},{id:"ai",label:"AI"},{id:"datascience",label:"Data Science"},{id:"design",label:"Design"}],d=[{id:"all",label:"All Durations"},{id:"under2",label:"Under 2h"},{id:"2to5",label:"2–5h"},{id:"5to10",label:"5–10h"},{id:"over10",label:"10h+"}];return e.jsx(f,{className:"mb-8",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Topic"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(a=>e.jsx("button",{onClick:()=>i(a.id),className:`badge transition-all duration-200 ${s===a.id?"badge-primary":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:a.label},a.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estimated Time"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(a=>e.jsx("button",{onClick:()=>l(a.id),className:`badge transition-all duration-200 ${t===a.id?"badge-secondary":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:a.label},a.id))})]})]})]})})}function I(){const[s,i]=o.useState("all"),[t,l]=o.useState("all"),{data:r=[],isLoading:d,error:a}=p({queryKey:["/api/courses"],staleTime:60*1e3}),n=C(r,s,t),c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return d?e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("h2",{className:"text-xl text-red-500 mb-2",children:"Error loading courses"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.message||"Something went wrong. Please try again."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Course Catalog"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl",children:"Discover courses tailored to your learning needs. Filter by topic and time commitment."})]}),e.jsx(v,{topicFilter:s,setTopicFilter:i,timeFilter:t,setTimeFilter:l}),n.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("h2",{className:"text-xl mb-2",children:"No courses match your filters"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filter criteria to see more courses."})]}):e.jsx(m.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:c,initial:"hidden",animate:"visible",children:n.map(x=>e.jsx(m.div,{variants:y,children:e.jsx(N,{course:x})},x.id))})]})}function C(s,i,t){return s.filter(l=>{if(i!=="all"&&!l.topics.some(d=>d.name.toLowerCase()===i))return!1;if(t!=="all"){const r=l.duration;if(t==="under2"&&r>120||t==="2to5"&&(r<120||r>300)||t==="5to10"&&(r<300||r>600)||t==="over10"&&r<600)return!1}return!0})}export{I as default};
